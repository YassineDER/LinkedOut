import{a as x,b as R,c as O,d as k,f as u,g as A,h as z,j as F,k as V,l as B,m as G,o as H,p as Q,q,r as K}from"./chunk-BRA5OPOP.js";import"./chunk-OKC3UIHP.js";import{C as p,D as g,Ma as U,N as j,Qa as N,S as y,T as f,X as I,Z as v,ba as M,d as P,ea as o,fa as r,fb as S,ga as a,hb as L,la as C,ma as T,qa as m,w as E,x as h,z as D}from"./chunk-YEOFXF23.js";var W=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p({type:e,selectors:[["app-profile-overview"]],decls:6,vars:0,consts:[[1,"bg-white","p-4","rounded-lg","shadow","text-center"],["src","https://via.placeholder.com/100","alt","Profile",1,"w-20","h-20","rounded-full","mx-auto","mb-4"],[1,"text-xl","font-semibold"],[1,"text-sm","text-gray-500"]],template:function(t,s){t&1&&(o(0,"div",0),a(1,"img",1),o(2,"h3",2),m(3,"Dmitry Kargaev"),r(),o(4,"p",3),m(5,"Freelance UX/UI designer, 80+ projects in web design, mobile apps (iOS & android) and creative projects. Open to offers."),r()())}});let i=e;return i})();var b=(()=>{let e=class e{constructor(n){this.http=n,this.api=L.hostUrl+"/posts"}getLatestPosts(){return this.http.get(this.api+"/latest")}getPostById(n){return this.http.get(this.api+"/"+n)}createPost(n){return new Promise((t,s)=>{setTimeout(()=>{t(!0)},1e3)})}};e.\u0275fac=function(t){return new(t||e)(D(N))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let i=e;return i})();function oe(i,e){if(i&1&&a(0,"img",11),i&2){let Y=T();v("src",Y.imagePreview,j)}}var X=(()=>{let e=class e{constructor(n,t,s,l){this.utils=n,this.fb=t,this.forms=s,this.posts=l,this.content=new F("",[u.required,u.minLength(5),u.maxLength(500),u.pattern(/^[a-zA-Z0-9\s]+$/)]),this.image=new F(null),this.postFrom=this.fb.group({content:this.content,image:this.image})}onImagePicked(n){let t=n.target,s=t.files[0];if(t&&s){let l=new Image;l.src=window.URL.createObjectURL(s),l.onload=()=>{try{let d=s.size/1024,_=l.width>500||l.height>500||l.width<100||l.height<100,ee=d>3e3;if(_)throw new Error("Les dimensions de l'image doivent \xEAtre comprises entre 100x100 et 500x500");if(ee)throw new Error("La taille de l'image ne doit pas d\xE9passer 3Mo");let w=new FileReader;w.onload=()=>this.imagePreview=w.result,w.readAsDataURL(s),this.postFrom.patchValue({image:s})}catch(d){this.utils.alert(d.message,x.ERROR)}}}}submitPost(){return P(this,null,function*(){this.forms.checkFormValidity(this.postFrom)&&(yield this.posts.createPost(this.postFrom.value).then(()=>(this.utils.alert("Post cr\xE9\xE9 avec succ\xE8s",x.SUCCESS),this.utils.playSound(R.POST),!0)).catch(t=>(this.utils.alert(t.error.error,x.ERROR),!1)))&&this.postFrom.reset()})}};e.\u0275fac=function(t){return new(t||e)(f(O),f(H),f(K),f(b))},e.\u0275cmp=p({type:e,selectors:[["app-post-form"]],decls:12,vars:3,consts:[[1,"bg-white","p-4","rounded-lg","shadow-md","w-full","mb-4",3,"formGroup","ngSubmit"],[1,"font-semibold","mb-2"],[1,"mb-4"],["name","content","placeholder","Quoi de neuf ?",1,"textarea","w-full","mb-3","focus:h-40",3,"formControl"],["class","w-52 h-52 rounded-lg mx-auto my-2","alt","Uploaded Image",3,"src"],[1,"flex","justify-end","space-x-2","text-gray-400"],["for","imageUpload",1,"flex","btn","btn-ghost","btn-circle","cursor-pointer"],[1,"bi","bi-camera","text-xl"],["type","file","name","image","id","imageUpload",1,"hidden",3,"change"],["type","submit",1,"btn","btn-primary","btn-circle"],[1,"bi","bi-send-fill","text-lg"],["alt","Uploaded Image",1,"w-52","h-52","rounded-lg","mx-auto","my-2",3,"src"]],template:function(t,s){t&1&&(o(0,"form",0),C("ngSubmit",function(){return s.submitPost()}),o(1,"h1",1),m(2,"Nouvelle publication"),r(),a(3,"hr",2)(4,"textarea",3),I(5,oe,1,1,"img",4),o(6,"div",5)(7,"label",6),a(8,"i",7),o(9,"input",8),C("change",function(d){return s.onImagePicked(d)}),r()(),o(10,"button",9),a(11,"i",10),r()()()),t&2&&(v("formGroup",s.postFrom),y(4),v("formControl",s.content),y(),M(5,s.imagePreview?5:-1))},dependencies:[V,k,A,z,B,G]});let i=e;return i})();var Z=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p({type:e,selectors:[["app-posts-feed"]],decls:28,vars:0,consts:[[1,"bg-white","p-4","rounded-lg","shadow"],[1,"text-sm","text-gray-500","mb-2"],[1,"flex","items-start","mb-2"],["src","https://via.placeholder.com/48","alt","Profile",1,"w-12","h-12","rounded-full","mr-4"],[1,"text-lg","font-semibold"],[1,"text-sm","text-gray-500"],[1,"mt-2"],["href","#",1,"text-blue-500","mt-2","inline-block"],[1,"flex","justify-between","items-center","mt-4"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2"],[1,"text-blue-500"],[1,"btn","btn-outline","btn-sm"]],template:function(t,s){t&1&&(o(0,"div",0)(1,"p",1),m(2,"Ted Bell, Annette Nguyen and Cody Hawkins liked this"),r(),o(3,"div",2),a(4,"img",3),o(5,"div")(6,"h3",4),m(7,"Theresa Steward"),r(),o(8,"p",5),m(9,"iOS developer"),r(),o(10,"p",6),m(11,"What did the Dursleys care if Harry lost his place on the House Quidditch team because he hadn\u2019t practiced all summer?"),r(),o(12,"a",7),m(13,"Read more"),r()()(),o(14,"div",8)(15,"div",9)(16,"button",10)(17,"span",11),m(18,"\u{1F44D}"),r(),o(19,"span"),m(20,"42"),r()(),o(21,"button",10)(22,"span",11),m(23,"\u{1F4AC}"),r(),o(24,"span"),m(25,"9"),r()()(),o(26,"button",12),m(27,"Share"),r()()())}});let i=e;return i})();var $=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p({type:e,selectors:[["app-feed"]],decls:6,vars:0,consts:[[1,"mx-auto","p-4","flex","gap-6","w-3/4"],[1,"w-3/4"],[1,"w-1/4","space-y-4"]],template:function(t,s){t&1&&(o(0,"div",0)(1,"div",1),a(2,"app-post-form")(3,"app-posts-feed"),r(),o(4,"div",2),a(5,"app-profile-overview"),r()())},dependencies:[W,X,Z]});let i=e;return i})();var se=[{path:"",children:[{path:"",redirectTo:"feed",pathMatch:"full"},{path:"feed",component:$,title:"Fil d'actualit\xE9 - LinkedOut"}]}],J=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g({type:e}),e.\u0275inj=h({imports:[S.forChild(se),S]});let i=e;return i})();var Ne=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g({type:e}),e.\u0275inj=h({providers:[b],imports:[U,J,Q,q]});let i=e;return i})();export{Ne as SocialModule};
