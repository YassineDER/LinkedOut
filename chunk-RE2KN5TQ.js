import{c as E,e as C,g as k,h as $,j as S,l as L,n as O,o as oe,p as R,q as re}from"./chunk-RF43DT43.js";import"./chunk-3SIP63GW.js";import{a as j,d as ae}from"./chunk-DSSSWF5R.js";import{$ as d,Bb as P,C as J,Cb as D,D as T,F as G,Fa as a,Ga as N,Ha as F,I as p,J as I,Ka as v,Ma as w,N as U,O as z,Xa as K,Za as Q,_ as l,ba as A,d as _,db as W,ea as M,ga as c,hb as X,ka as B,oa as o,pa as t,qa as m,tb as Z,ua as H,ub as ee,wa as h,wb as te,xa as g,xb as ie,yb as Y,zb as ne}from"./chunk-NAGIM7AF.js";var me=(()=>{let e=class e{constructor(r){this.users=r,this.Path=D}ngOnInit(){this.users.currentUser.subscribe(r=>{r&&(this.user=r)})}onOutletLoaded(r){r.user=this.user}};e.\u0275fac=function(n){return new(n||e)(d(j))},e.\u0275cmp=p({type:e,selectors:[["app-settings"]],decls:21,vars:3,consts:[[1,"gap-0","grid","grid-cols-4","w-full"],[1,"col-span-1","flex","flex-col","w-full","p-4","bg-white","h-screen","shadow"],[1,"text-3xl","font-bold","my-4","ms-3"],[1,"border-gray-200","mb-6"],[1,"menu","space-y-4","text-lg"],[1,"mb-2"],["routerLinkActive","border-l-4",1,"border-primary","rounded-none",3,"routerLink"],[1,"bi","bi-person-fill","me-2"],[1,"bi","bi-lock-fill","me-2"],[1,"bi","bi-bell-fill","me-2"],[1,"col-span-3","flex","flex-col"],[1,"w-4/5","p-8","mx-auto"],[3,"activate"]],template:function(n,s){n&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"Pr\xE9ferences"),t(),m(4,"hr",3),o(5,"ul",4)(6,"li",5)(7,"a",6),m(8,"i",7),a(9,"Pr\xE9f\xE9rences du compte"),t()(),o(10,"li",5)(11,"a",6),m(12,"i",8),a(13,"Authentification et S\xE9curit\xE9"),t()(),o(14,"li",5)(15,"a",6),m(16,"i",9),a(17,"Notifications"),t()()()(),o(18,"div",10)(19,"div",11)(20,"router-outlet",12),h("activate",function(y){return s.onOutletLoaded(y)}),t()()()()),n&2&&(l(7),c("routerLink",s.Path.PREFERENCES_ACCOUNT.toString()),l(4),c("routerLink",s.Path.PREFERENCES_SECURITY.toString()),l(4),c("routerLink",s.Path.PREFERENCES_NOTIFICATIONS.toString()))},dependencies:[ee,te,ie]});let i=e;return i})();var le=(()=>{let e=class e{constructor(r){this.fb=r,this.accountForm=this.fb.group({})}submitUserModification(){console.log(this.accountForm.value)}};e.\u0275fac=function(n){return new(n||e)(d(O))},e.\u0275cmp=p({type:e,selectors:[["app-account-infos-modal"]],decls:6,vars:1,consts:[["id","userInfoModal",1,"modal"],[1,"modal-box","w-11/12","max-w-5xl",3,"formGroup","ngSubmit"],[1,"modal-action"],["method","dialog"],[1,"btn"]],template:function(n,s){n&1&&(o(0,"dialog",0)(1,"form",1),h("ngSubmit",function(){return s.submitUserModification()}),o(2,"div",2)(3,"form",3)(4,"button",4),a(5,"Close"),t()()()()()),n&2&&(l(),c("formGroup",s.accountForm))},dependencies:[S,C,k,L]});let i=e;return i})();var pe=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-account-settings"]],decls:49,vars:0,consts:[[1,"bg-white","rounded-lg","shadow","p-6"],[1,"text-xl","font-bold","mb-4"],["onclick","userInfoModal.showModal()"],[1,"flex","justify-between","items-center","mb-2"],[1,"bi","bi-chevron-right"],[1,"my-6"],[1,"text-xl","font-bold","mt-6","mb-4"],[1,"flex","items-center"],[1,"mr-2","text-sm","text-gray-500"]],template:function(n,s){n&1&&(o(0,"div",0)(1,"h2",1),a(2,"Informations de profil"),t(),o(3,"ul")(4,"a",2)(5,"li",3)(6,"span"),a(7,"Nom, lieu et secteur"),t(),m(8,"i",4),t()()(),m(9,"hr",5),o(10,"h2",6),a(11,"Pr\xE9f\xE9rences g\xE9n\xE9rales"),t(),o(12,"ul")(13,"a")(14,"li",3)(15,"span"),a(16,"Effets sonores"),t(),o(17,"div",7)(18,"span",8),a(19,"Activ\xE9"),t(),m(20,"i",4),t()()(),o(21,"a")(22,"li",3)(23,"span"),a(24,"Affichage des photos de profil"),t(),o(25,"div",7)(26,"span",8),a(27,"Tous les membres de LinkedIn"),t(),m(28,"i",4),t()()(),o(29,"a")(30,"li",3)(31,"span"),a(32,"Pr\xE9f\xE9rences du fil d'actualit\xE9"),t(),m(33,"i",4),t()(),o(34,"a")(35,"li",3)(36,"span"),a(37,"Personnes que vous ne suivez plus"),t(),m(38,"i",4),t()()(),m(39,"hr",5),o(40,"h2",6),a(41,"Gestion du compte"),t(),o(42,"ul")(43,"a")(44,"li",3)(45,"span"),a(46,"Fermer le compte"),t(),m(47,"i",4),t()()()(),m(48,"app-account-infos-modal"))},dependencies:[le],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]});let i=e;return i})();var b=(()=>{let e=class e{constructor(r,n){this.http=r,this.users=n}requestMfa(){return new Promise((r,n)=>{this.http.get(this.users.api+"/request-mfa").subscribe({next:s=>r(s),error:s=>n(s)})})}mfa(r,n){return new Promise((s,x)=>{this.http.post(this.users.api+"/mfa/"+r,n).subscribe({next:y=>s(y),error:y=>x(y)})})}};e.\u0275fac=function(n){return new(n||e)(G(X),G(j))},e.\u0275prov=J({token:e,factory:e.\u0275fac});let i=e;return i})();function ye(i,e){if(i&1&&(o(0,"p",5),a(1),t()),i&2){let f=g();l(),F("Vous pouvez r\xE9essayer dans ",f.timeLeft," secondes")}}var de=(()=>{let e=class e{constructor(r,n){this.settings=r,this.utils=n,this.completed=new A,this.isTimerActive=!1,this.timeLeft=120}requestMfa(){return _(this,null,function*(){this.isTimerActive=!0,this.startTimer(),yield this.settings.requestMfa().then(()=>this.completed.emit()).catch(r=>this.utils.alert(r.error.error,ne.ERROR))})}startTimer(){let r=setInterval(()=>{this.timeLeft--,this.timeLeft<=0&&(clearInterval(r),this.isTimerActive=!1,this.timeLeft=120)},1e3)}};e.\u0275fac=function(n){return new(n||e)(d(b),d(P))},e.\u0275cmp=p({type:e,selectors:[["app-step-one"]],outputs:{completed:"completed"},standalone:!0,features:[v],decls:7,vars:3,consts:[[1,"flex","flex-row","items-center"],[1,"bi","bi-shield-check","text-4xl","text-primary"],[1,"p-4"],[1,"btn","btn-primary",3,"disabled","click"],["class","text-center text-gray-500 mt-4",4,"ngIf"],[1,"text-center","text-gray-500","mt-4"]],template:function(n,s){n&1&&(o(0,"div",0),m(1,"i",1),o(2,"p",2),a(3,"Pour activer la v\xE9rification en deux \xE9tapes, vous aurez besoin d'une application d'authentification sur votre t\xE9l\xE9phone. Une fois activ\xE9e, vous devrez entrer un code de v\xE9rification \xE0 chaque connexion. "),t()(),o(4,"button",3),h("click",function(){return s.requestMfa()}),a(5),t(),M(6,ye,2,1,"p",4)),n&2&&(l(4),c("disabled",s.isTimerActive),l(),F(" ",s.isTimerActive?"Veuillez patienter...":"Continuer"," "),l(),c("ngIf",s.isTimerActive))},dependencies:[Q],encapsulation:2});let i=e;return i})();var V=(()=>{let e=class e{constructor(r,n,s,x){this.fb=r,this.settings=n,this.forms=s,this.utils=x,this.completed=new A,this.codeCtrl=new $("",[E.required,E.minLength(6),E.maxLength(6),E.pattern("^[0-9]*$")]),this.passwordCtrl=new $("",[E.required,E.minLength(8)]),this.mfaForm=this.fb.group({code:this.codeCtrl,password:this.passwordCtrl})}submitMfaAction(){return _(this,null,function*(){this.forms.checkFormValidity(this.mfaForm)&&(yield this.settings.mfa("enable",this.mfaForm.value).then(()=>this.completed.emit()).catch(r=>this.utils.alert(r.error.error)),this.mfaForm.reset())})}};e.\u0275fac=function(n){return new(n||e)(d(O),d(b),d(re),d(P))},e.\u0275cmp=p({type:e,selectors:[["app-step-two"]],outputs:{completed:"completed"},standalone:!0,features:[v],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit"]],template:function(n,s){n&1&&(o(0,"form",0),h("ngSubmit",function(){return s.submitMfaAction()}),t()),n&2&&c("formGroup",s.mfaForm)},dependencies:[R,S,C,L],encapsulation:2});let i=e;return i})();var ue=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-step-three"]],standalone:!0,features:[v],decls:2,vars:0,template:function(n,s){n&1&&(o(0,"p"),a(1,"step-three works!"),t())},encapsulation:2});let i=e;return i})();var fe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-step-four"]],standalone:!0,features:[v],decls:0,vars:0,template:function(n,s){},encapsulation:2});let i=e;return i})();function Te(i,e){if(i&1){let f=H();o(0,"app-step-one",10),h("completed",function(){U(f);let n=g(2);return z(n.nextStep())}),t()}}function Ie(i,e){if(i&1){let f=H();o(0,"app-step-two",10),h("completed",function(){U(f);let n=g(2);return z(n.nextStep())}),t()}}function Ae(i,e){i&1&&m(0,"app-step-three")}function Ne(i,e){i&1&&m(0,"app-step-four")}var q=i=>({active:i});function Pe(i,e){if(i&1&&(o(0,"h3",5),a(1,"Prot\xE9gez votre compte LinkedOut avec la v\xE9rification en deux \xE9tapes"),t(),o(2,"div",6)(3,"ul",7)(4,"li",8),a(5,"Informations"),t(),o(6,"li",9),a(7,"Identit\xE9"),t(),o(8,"li",9),a(9,"Validation"),t(),o(10,"li",9),a(11,"Finalisation"),t()()(),M(12,Te,1,0)(13,Ie,1,0)(14,Ae,1,0)(15,Ne,1,0)),i&2){let f=g(),r;l(4),c("ngClass",w(5,q,f.step===1)),l(2),c("ngClass",w(7,q,f.step===2)),l(2),c("ngClass",w(9,q,f.step===3)),l(2),c("ngClass",w(11,q,f.step===4)),l(2),B(12,(r=f.step)===1?12:r===2?13:r===3?14:r===4?15:-1)}}function De(i,e){i&1&&(o(0,"h3",11),m(1,"i",12),o(2,"p",13),a(3,"La v\xE9rification en deux \xE9tapes est activ\xE9e pour votre compte LinkedOut."),t()())}var he=(()=>{let e=class e{constructor(){this.step=1}nextStep(){this.step++}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-mfa-form-modal"]],inputs:{usingMfa:"usingMfa"},decls:8,vars:2,consts:[["id","mfaModal",1,"modal"],[1,"modal-box","w-11/12","max-w-5xl"],[1,"modal-action"],["method","dialog"],[1,"btn","ms-2"],[1,"text-lg","font-bold","my-1"],[1,"mx-auto","text-center","my-4"],[1,"steps","steps-horizontal"],[1,"step","step-primary",3,"ngClass"],[1,"step",3,"ngClass"],[3,"completed"],[1,"text-center","my-auto"],[1,"bi","bi-shield-check","text-4xl","text-primary"],[1,"py-4"]],template:function(n,s){n&1&&(o(0,"dialog",0)(1,"div",1),M(2,Pe,16,13)(3,De,4,0),o(4,"div",2)(5,"form",3)(6,"button",4),a(7),t()()()()()),n&2&&(l(2),B(2,s.usingMfa?3:2),l(5),N(s.step<4?"Annuler":"Fermer"))},dependencies:[K,S,C,k,de,V,ue,fe]});let i=e;return i})();var ve=(()=>{let e=class e{constructor(r){this.route=r,this.Path=D,this.route.params.subscribe(n=>{this.route.snapshot.data.user&&(this.user=this.route.snapshot.data.user)})}};e.\u0275fac=function(n){return new(n||e)(d(Z))},e.\u0275cmp=p({type:e,selectors:[["app-security-settings"]],decls:36,vars:3,consts:[[1,"bg-white","rounded-lg","shadow","p-6"],[1,"text-xl","font-bold","mb-4"],[1,"flex","justify-between","items-center","mb-3"],[1,"flex","items-center"],[1,"mr-2","text-sm","text-gray-500"],[1,"bi","bi-chevron-right"],["onclick","mfaModal.showModal()"],[3,"usingMfa"]],template:function(n,s){n&1&&(o(0,"div",0)(1,"h2",1),a(2,"Acc\xE8s au compte"),t(),o(3,"ul")(4,"a")(5,"li",2)(6,"span"),a(7,"Addresse e-mail"),t(),o(8,"div",3)(9,"span",4),a(10),t(),m(11,"i",5),t()()(),o(12,"a")(13,"li",2)(14,"span"),a(15,"Numeros de t\xE9l\xE9phone"),t(),m(16,"i",5),t()(),o(17,"a")(18,"li",2)(19,"span"),a(20,"Changer le mot de passe"),t(),m(21,"i",5),t()(),o(22,"a")(23,"li",2)(24,"span"),a(25,"O\xF9 vous vous \xEAtes identifi\xE9"),t(),m(26,"i",5),t()(),o(27,"a",6)(28,"li",2)(29,"span"),a(30,"Verifications en deux \xE9tapes"),t(),o(31,"div",3)(32,"span",4),a(33),t(),m(34,"i",5),t()()()()(),m(35,"app-mfa-form-modal",7)),n&2&&(l(10),F("",s.user.email," "),l(23),N(s.user.using_mfa?"Activ\xE9e":"D\xE9sactiv\xE9e"),l(2),c("usingMfa",s.user.using_mfa))},dependencies:[he],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]});let i=e;return i})();var xe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-notifications-settings"]],decls:34,vars:0,consts:[[1,"bg-white","rounded-lg","shadow","p-6"],[1,"text-xl","font-bold","mb-4"],[1,"flex","justify-between","items-center","mb-3"],[1,"bi","bi-chevron-right"]],template:function(n,s){n&1&&(o(0,"div",0)(1,"h2",1),a(2,"Acc\xE8s au compte"),t(),o(3,"ul")(4,"a")(5,"li",2)(6,"span"),a(7,"Recherche d\u2019un emploi"),t(),m(8,"i",3),t()(),o(9,"a")(10,"li",2)(11,"span"),a(12,"Recruter quelqu\u2019un"),t(),m(13,"i",3),t()(),o(14,"a")(15,"li",2)(16,"span"),a(17,"Connexion avec d\u2019autres personnes"),t(),m(18,"i",3),t()(),o(19,"a")(20,"li",2)(21,"span"),a(22,"Publication et commentaires"),t(),m(23,"i",3),t()(),o(24,"a")(25,"li",2)(26,"span"),a(27,"Messagerie"),t(),m(28,"i",3),t()(),o(29,"a")(30,"li",2)(31,"span"),a(32,"Mise \xE0 jour de votre profil"),t(),m(33,"i",3),t()()()())}});let i=e;return i})();var ke=[{path:"",component:me,children:[{path:"",redirectTo:"account",pathMatch:"full"},{path:"account",component:pe},{path:"security",component:ve},{path:"notifications",component:xe}]}],Ee=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=I({type:e}),e.\u0275inj=T({imports:[Y.forChild(ke),Y]});let i=e;return i})();var Pt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=I({type:e}),e.\u0275inj=T({providers:[b],imports:[W,ae,Ee,oe,R,V]});let i=e;return i})();export{Pt as PreferencesModule};
